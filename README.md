# Tesseract Input Creator

### About
---

The Tesseract Input Creator is used to automate the creation of input files used for training a custom tesseract OCR model. It produces inputs consisting of both .tif, and .box files which can directly be fed into tesseract.

#### How To Use
---
```
TesseractInputCreator
    {-WIDTH <+int>} {-HEIGHT <+int>}
    {-FONT <path> | -FAMILY <string> -STYLE {Regular | Bold | Italic | Underline | Strikeout}}
    {-OUT <path>} {-LENGTH { +int | \'+int,+int\' }}
    [-OVERLAY <path>] [-BACKGROUND <path>] [v] [h] [w] [t] [d]
```

#### Arguments
Arg | Data Type | Required | Description
--- | --- | --- | ---
-WIDTH | +int | Y | The width of the produced images in pixels
-HEIGHT | +int | Y | The height of the produced images in pixels
-FONT  | file path | Y* | The font file you wish to use if it is not natively installed. Supported file types are those natively supported by windows. (.ttf, .ttc, .otf, .pfb, .pfm)
-FAMILY  | string | Y* | The font type to write with. The font must be installed to your machine. [This list](https://docs.microsoft.com/en-us/typography/fonts/windows_10_font_list) contains all default installed fonts for windows. When referencing the list, the font name is what you should use.
-STYLE  | "Regular" \| "Bold" \| "Italic" \| "Underline" \| "Strikeout" | Y* | What style to write the font with. Because each style requires its own file (in the case of .ttf for example), this option is only included if you are selecting a font from a preinstalled font defined by the -FAMILY argument, and not if you supply a font via a file.
-STYLE  | +int | Y | The oem font size to draw the font with. If the text size after writing exceeds the size of the image then the text is cropped.
-OUT  | directory path | Y | The directory to save the outputted files to.
-LENGTH  | +int \| <+int, +int> | Y | The length of the strings to produce. Formatting for this is a bit wonky. If you want strings of an exact length simply pass a single number. If you want strings with a minimum length and a maximum length (generated by rng) then pass two numbers separated by a comma (e.x. 3,6).
-OVERLAY  | file path | N | An image to be overlayed ontop of the drawn text. This assumes that the transparency is already embedded in the supplied image, otherwise this will entirely overwrite the text. If an image smaller than WIDTH * HEIGHT is provided it is simply drawn from the top left of the image. If the image is larger than anything extending the bounds of WIDTH * HEIGHT is cropped.
-BACKGROUND  | file path | N | An image to be drawn behind the drawn text. If an image smaller than WIDTH * HEIGHT is provided it is simply drawn from the top left of the image. If the image is larger than anything extending the bounds of WIDTH * HEIGHT is cropped.
`*If -FONT is provided, -FAMILY and -STYLE are not required. If -FONT is not provided -FAMILY and -STLYE are required. If all three are provided, -FONT ovverrides -FAMILY and -STYLE.`

#### Flags
Flag | Description
--- | ---
v | Set this flag if you would like the text to be vertically centered in the image.
h | Set this flag if you would like the text to be horizontally centered in the image.
w  | Set this flag if you want the text to page-wrap
t  |  Set this flag if you want the bounding boxes to be wrapped as tightly as possible. This process is slightly finniky so this may produce errors in overlapping boxes/incorrect boxes but can be used if too much whitespace is present in the bounds defined in the .box file. CURRENTLY NOT IMPLEMENTED
d  | Set this flag for debug mode. Images with the bounding boxes drawn to them will be produced alongside the outputs so that they can be visually verified by a user.

### Developer
---
Incorporating the Tesseract Input Creator into your workflow is incredibly straightforward. Reference the `TesseractInputCreator` in your project, then invoke `TesseractInputCreator.NewTesseractInput("text to write", "name of output file")`.

As you can see, the text is not randomly generated when incorporating the library yourself. Instead you must generate the strings yourself.

#### TODO
[ ] Image Paging | 
Allow images to be aggregated into one using the supported paging functionality of both tif and box 
[ ] Tight Boxes |
Incorporate the use of Ryan's box-finding algorithm after the initial boxes are found to make the boxes as tightly binding as possible
[ ] WPF Creation |
Create a WPF UI for the program